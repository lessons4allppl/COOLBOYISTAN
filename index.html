<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COOLBOYISTAN</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #0f0f0f;
            color: #ffffff;
            overflow-x: hidden;
            background-image: 
                radial-gradient(at 0% 0%, rgba(229, 9, 20, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(50, 50, 50, 0.2) 0px, transparent 50%);
            min-height: 100vh;
        }

        .glass-panel {
            background: rgba(20, 20, 20, 0.65);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
        }

        .glass-input {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: white;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }
        .glass-input:focus {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(229, 9, 20, 0.6);
            outline: none;
            box-shadow: 0 0 15px rgba(229, 9, 20, 0.2);
        }

        .glass-btn {
            background: linear-gradient(135deg, rgba(229, 9, 20, 0.9), rgba(180, 0, 10, 0.95));
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 15px rgba(229, 9, 20, 0.4);
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .glass-nav {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            z-index: -1;
            animation: float 10s infinite ease-in-out;
            opacity: 0.4;
        }
        .orb-1 { width: 300px; height: 300px; background: #520408; top: 10%; left: 20%; animation-delay: 0s; }
        .orb-2 { width: 400px; height: 400px; background: #1a1a1a; top: 40%; right: 10%; animation-delay: -2s; }
        .orb-3 { width: 200px; height: 200px; background: #3d0000; bottom: 10%; left: 30%; animation-delay: -4s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.05); }
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; border: 1px solid #1a1a1a; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        .brand-text {
            background: linear-gradient(to right, #ff4b5c, #E50914);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
            letter-spacing: -0.5px;
            text-transform: uppercase;
        }

        .fade-in { animation: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards; opacity: 0; transform: translateY(20px); }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="flex flex-col min-h-screen relative">

        <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        <div class="absolute inset-0 opacity-[0.03]" style="background-image: url('https://grainy-gradients.vercel.app/noise.svg');"></div>
    </div>

        <nav class="fixed w-full z-50 transition-all duration-300 glass-nav px-4 py-4 md:px-12 flex justify-between items-center">
        <div class="text-3xl brand-text cursor-pointer drop-shadow-lg tracking-wider">Coolboyistan</div>
        <div class="flex items-center gap-4 text-sm font-medium text-gray-300">
            <a href="#" class="hover:text-white transition hidden sm:block hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]">Home</a>
            <a href="#" class="hover:text-white transition hidden sm:block hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]"><i>Movie Recomendations [COMING SOON]</i></a>
            <div class="glass-panel px-4 py-1.5 rounded bg-red-600/20 border border-red-500/50 flex items-center justify-center text-white font-bold cursor-pointer text-xs md:text-sm whitespace-nowrap">
                ANY MOVIES WORK BTW, JUST TO CLEAR THIS UP
            </div>
        </div>
    </nav>

        <main class="relative flex-grow flex flex-col items-center justify-center pt-24 px-4 pb-12 w-full max-w-7xl mx-auto z-10">
        
                <div class="w-full max-w-4xl text-center space-y-8 fade-in" style="animation-delay: 0.1s;">
            <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight drop-shadow-2xl leading-tight">
                Unlimited movies, TV shows, and more. <br><span class="text-gray-400 italic font-light">CRAZY, right?</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-200 drop-shadow-md">
                Watch anywhere. Enter an TMBD ID or search for a movie/show to start streaming. <a class="underline decoration-red-500 hover:text-red-400 transition" href="https://www.themoviedb.org/" target="_blank" rel="noopener noreferrer">TMBD</a>.
            </p>
            
                        <div class="inline-grid grid-cols-2 w-[220px] glass-panel rounded-full p-1.5 relative">
                <div id="slider-bg" class="absolute top-1.5 left-1.5 w-[calc(50%-6px)] h-[calc(100%-12px)] bg-red-600 rounded-full transition-transform duration-300 ease-out shadow-[0_0_15px_rgba(229,9,20,0.5)]"></div>
                
                <button onclick="switchMode('movie')" id="btn-movie" class="relative z-10 py-2 rounded-full text-sm font-bold text-white transition-colors duration-300 text-center">Movies</button>
                <button onclick="switchMode('tv')" id="btn-tv" class="relative z-10 py-2 rounded-full text-sm font-bold text-gray-400 transition-colors duration-300 hover:text-white text-center">TV Shows</button>
            </div>

                        <div class="glass-panel p-8 md:p-10 rounded-3xl mx-auto w-full max-w-2xl relative overflow-hidden group">
                <div class="absolute top-0 left-[-100%] w-full h-full bg-gradient-to-r from-transparent via-white/5 to-transparent skew-x-12 transition-all duration-1000 group-hover:left-[100%]"></div>
                
                                <div id="movie-form" class="flex flex-col md:flex-row gap-4 transition-all duration-300 relative">
                    <div class="relative w-full group/input">
                        <input type="text" id="movieId" placeholder=" " class="glass-input w-full p-4 rounded-xl h-14 text-lg peer placeholder-transparent" autocomplete="off">
                        <label class="absolute left-4 top-4 text-gray-400 text-sm transition-all duration-200 peer-focus:-top-2.5 peer-focus:left-2 peer-focus:text-red-400 peer-focus:text-xs peer-focus:bg-[#1a1a1a] peer-focus:px-2 peer-focus:rounded peer-placeholder-shown:top-4 peer-placeholder-shown:text-lg peer-not-placeholder-shown:-top-2.5 peer-not-placeholder-shown:left-2 peer-not-placeholder-shown:text-xs peer-not-placeholder-shown:bg-[#1a1a1a] peer-not-placeholder-shown:px-2 peer-not-placeholder-shown:rounded pointer-events-none">TMDB ID or Search</label>
                                                <div id="movie-search-results" class="absolute top-full mt-1 w-full bg-black/80 text-white rounded-md shadow-lg z-50 max-h-60 overflow-y-auto hidden"></div>
                    </div>
                    <button onclick="playContent('movie')" class="glass-btn text-white text-xl font-bold px-8 py-3 rounded-xl h-14 flex items-center justify-center gap-2 transition transform active:scale-95 hover:brightness-110 min-w-[140px]">
                        <span>Play</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </button>
                </div>

                                <div id="tv-form" class="hidden flex flex-col gap-4 relative">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                                                <div class="relative w-full md:col-span-1 group/input">
                            <input type="text" id="showId" placeholder=" " class="glass-input w-full p-4 rounded-xl h-12 text-lg peer placeholder-transparent" autocomplete="off">
                            <label class="absolute left-4 top-3.5 text-gray-400 text-sm transition-all duration-200 peer-focus:-top-2.5 peer-focus:left-2 peer-focus:text-red-400 peer-focus:text-xs peer-focus:bg-[#1a1a1a] peer-focus:px-2 peer-focus:rounded peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-lg peer-not-placeholder-shown:-top-2.5 peer-not-placeholder-shown:left-2 peer-not-placeholder-shown:text-xs peer-not-placeholder-shown:bg-[#1a1a1a] peer-not-placeholder-shown:px-2 peer-not-placeholder-shown:rounded pointer-events-none">Show ID or Search</label>
                            <div id="tv-search-results" class="absolute top-full mt-1 w-full bg-black/80 text-white rounded-md shadow-lg z-50 max-h-60 overflow-y-auto hidden"></div>
                        </div>
                                                <div class="relative w-full group/input">
                            <input type="number" id="season" placeholder=" " class="glass-input w-full p-4 rounded-xl h-12 text-lg text-center peer placeholder-transparent font-mono">
                            <label class="absolute left-1/2 -translate-x-1/2 top-3.5 text-gray-400 text-sm transition-all duration-200 peer-focus:-top-2.5 peer-focus:text-red-400 peer-focus:text-xs peer-focus:bg-[#1a1a1a] peer-focus:px-2 peer-focus:rounded peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-lg peer-not-placeholder-shown:-top-2.5 peer-not-placeholder-shown:text-xs peer-not-placeholder-shown:bg-[#1a1a1a] peer-not-placeholder-shown:px-2 peer-not-placeholder-shown:rounded pointer-events-none w-16 text-center">Season</label>
                        </div>
                                                <div class="relative w-full group/input">
                            <input type="number" id="episode" placeholder=" " class="glass-input w-full p-4 rounded-xl h-12 text-lg text-center peer placeholder-transparent font-mono">
                            <label class="absolute left-1/2 -translate-x-1/2 top-3.5 text-gray-400 text-sm transition-all duration-200 peer-focus:-top-2.5 peer-focus:text-red-400 peer-focus:text-xs peer-focus:bg-[#1a1a1a] peer-focus:px-2 peer-focus:rounded peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-lg peer-not-placeholder-shown:-top-2.5 peer-not-placeholder-shown:text-xs peer-not-placeholder-shown:bg-[#1a1a1a] peer-not-placeholder-shown:px-2 peer-not-placeholder-shown:rounded pointer-events-none w-16 text-center">Episode</label>
                        </div>
                    </div>
                    <button onclick="playContent('tv')" class="glass-btn w-full mt-2 text-white text-lg font-bold px-8 py-3 rounded-xl h-12 flex items-center justify-center gap-2 transition transform active:scale-95 hover:brightness-110">
                        Play Episode | &nbsp<i>Enjoy :)</i>
                    </button>
                </div>
            </div>
        </div>

                <div id="player-wrapper" class="w-full max-w-6xl mt-16 hidden fade-in z-20">
            <div class="glass-panel p-1 rounded-2xl relative shadow-[0_20px_60px_-10px_rgba(0,0,0,0.8)]">
                <div class="absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent rounded-2xl pointer-events-none z-30"></div>
                <div class="relative w-full pt-[56.25%] bg-black rounded-xl overflow-hidden border border-white/5">
                    <iframe id="player" class="absolute top-0 left-0 w-full h-full z-10" src="" frameborder="0" allowfullscreen allow="encrypted-media" loading="lazy"></iframe>
                </div>
            </div>

            <div class="mt-6 glass-panel rounded-xl overflow-hidden border border-gray-800/50">
                <div class="bg-black/40 px-4 py-2 border-b border-white/5 flex items-center justify-between">
                    <div class="flex gap-1.5">
                        <div class="w-2.5 h-2.5 rounded-full bg-red-500/50"></div>
                        <div class="w-2.5 h-2.5 rounded-full bg-yellow-500/50"></div>
                        <div class="w-2.5 h-2.5 rounded-full bg-green-500/50"></div>
                    </div>
                    <span class="text-[10px] font-mono text-gray-500 uppercase tracking-widest">Debug Stream</span>
                </div>
                <div id="messageArea" class="font-mono text-xs p-4 h-32 overflow-y-auto console-scroll space-y-1.5 text-green-400/80">
                    <div class="opacity-50 border-l-2 border-transparent pl-2">> System ready... Waiting for input.</div>
                </div>
            </div>
        </div>

    </main>

        <footer class="glass-nav text-gray-500 py-6 px-12 text-xs md:text-sm text-center relative z-10 border-t border-white/5">
        <p>SEVERANCE - SHOW - 95396</p>
        <p class="mt-2">Dont mind that hehe ^^^</p>
    </footer>

        <div id="errorModal" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] hidden flex items-center justify-center px-4 transition-opacity duration-300">
        <div class="glass-panel p-8 rounded-2xl max-w-sm w-full text-center border-t-4 border-red-600 shadow-[0_0_50px_rgba(229,9,20,0.3)] transform transition-all scale-100">
            <h3 class="text-xl font-bold text-white mb-2">erm, you forgot smth!!!</h3>
            <p id="errorText" class="text-gray-300 mb-6 text-sm">Something went wrong.</p>
            <button onclick="closeModal()" class="w-full py-2.5 rounded-lg bg-white/10 hover:bg-white/20 text-white border border-white/10 transition font-medium">Close</button>
        </div>
    </div>

    <script>
        document.getElementById('movieId').setAttribute('placeholder', 'e.g. 299534 (Avengers)');

        // Toggle UI
        function switchMode(mode) {
            const slider = document.getElementById('slider-bg');
            const movieBtn = document.getElementById('btn-movie');
            const tvBtn = document.getElementById('btn-tv');
            const movieForm = document.getElementById('movie-form');
            const tvForm = document.getElementById('tv-form');

            if (mode === 'movie') {
                slider.style.transform = 'translateX(0)';
                movieBtn.classList.add('text-white');
                movieBtn.classList.remove('text-gray-400');
                tvBtn.classList.remove('text-white');
                tvBtn.classList.add('text-gray-400');
                movieForm.classList.remove('hidden');
                movieForm.classList.add('flex');
                tvForm.classList.add('hidden');
            } else {
                slider.style.transform = 'translateX(100%)'; 
                tvBtn.classList.add('text-white');
                tvBtn.classList.remove('text-gray-400');
                movieBtn.classList.remove('text-white');
                movieBtn.classList.add('text-gray-400');
                tvForm.classList.remove('hidden');
                movieForm.classList.add('hidden');
                movieForm.classList.remove('flex');
            }
        }

        // Error Modal
        function showError(msg) {
            document.getElementById('errorText').innerText = msg;
            const modal = document.getElementById('errorModal');
            modal.classList.remove('hidden');
            modal.querySelector('div').classList.remove('scale-95', 'opacity-0');
            modal.querySelector('div').classList.add('scale-100', 'opacity-100');
        }

        function closeModal() {
            document.getElementById('errorModal').classList.add('hidden');
        }

        // Play Content
        function playContent(type) {
            let src = '';
            
            if (type === 'movie') {
                const id = document.getElementById('movieId').value.trim();
                if (!id) { showError('Please enter a valid Movie ID, kitten.'); return; }
                src = `https://player.videasy.net/movie/${id}?color=E50914&overlay=true`;
                logMessage(`Loading Movie ID: ${id}`);
            } else if (type === 'tv') {
                const id = document.getElementById('showId').value.trim();
                const season = document.getElementById('season').value;
                const episode = document.getElementById('episode').value;
                if (!id || !season || !episode) { showError('Please fill in Show ID, Season, and Episode, kitten.'); return; }
                src = `https://player.videasy.net/tv/${id}/${season}/${episode}?color=E50914&episodeSelector=true&overlay=true&nextEpisode=true`;
                logMessage(`Loading Show ID: ${id} | S${season}:E${episode}`);
            }

            const playerFrame = document.getElementById('player');
            playerFrame.src = src;
            const container = document.getElementById('player-wrapper');
            container.classList.remove('hidden');
            setTimeout(() => { container.scrollIntoView({ behavior: 'smooth', block: 'center' }); }, 100);
        }

        function logMessage(text) {
            const messageArea = document.getElementById("messageArea");
            const div = document.createElement('div');
            const time = new Date().toLocaleTimeString([], { hour12: false });
            div.className = "border-l-2 border-green-500/50 pl-2 hover:bg-white/5 transition px-1 py-0.5 rounded";
            div.innerHTML = `<span class="text-gray-500 mr-2 text-[10px]">[${time}]</span><span class="text-gray-200 shadow-green-500/20 drop-shadow-sm">> ${text}</span>`;
            messageArea.prepend(div);
            // Scroll to keep the latest message visible (if using append, but using prepend here)
            // messageArea.scrollTop = 0; 
        }

        // TMDB API
        const tmdbApiKey = 'fca66bcc048608a938d386fc1746385b';

        async function searchTMDB(query, type='movie') {
            if (!query) return [];
            const url = `https://api.themoviedb.org/3/search/${type}?api_key=${tmdbApiKey}&query=${encodeURIComponent(query)}`;
            try {
                const res = await fetch(url);
                const data = await res.json();
                return data.results || [];
            } catch(e){ console.error(e); return []; }
        }

        // Movie Search
        const movieInput = document.getElementById('movieId');
        const movieResults = document.getElementById('movie-search-results');
        movieInput.addEventListener('input', async () => {
            const query = movieInput.value;
            if(query.length < 2) { movieResults.classList.add('hidden'); return; }
            const results = await searchTMDB(query, 'movie');
            if(results.length===0){ movieResults.innerHTML='<div class="px-3 py-2 text-gray-400">No results found</div>'; movieResults.classList.remove('hidden'); return;}
            movieResults.innerHTML = results.map(r=>`<div class="px-3 py-2 cursor-pointer hover:bg-red-600/30 transition" data-id="${r.id}">${r.title} (${r.release_date?.slice(0,4)||'N/A'})</div>`).join('');
            movieResults.classList.remove('hidden');
            movieResults.querySelectorAll('div[data-id]').forEach(el=>{
                el.addEventListener('click',()=>{ movieInput.value=el.dataset.id; movieResults.classList.add('hidden'); playContent('movie'); });
            });
        });

        document.addEventListener('click',(e)=>{if(!movieInput.contains(e.target) && !movieResults.contains(e.target)) movieResults.classList.add('hidden');});

        // TV Search
        const tvInput = document.getElementById('showId');
        const tvResults = document.getElementById('tv-search-results');
        tvInput.addEventListener('input', async () => {
            const query = tvInput.value;
            if(query.length<2 && isNaN(parseInt(query))){ tvResults.classList.add('hidden'); return; }
            
            // Only show search results if input is not a pure number (assumed ID)
            if(isNaN(parseInt(query)) || query.length > 5){ // Heuristic: IDs are usually numbers and shorter
                const results = await searchTMDB(query,'tv');
                if(results.length===0){ tvResults.innerHTML='<div class="px-3 py-2 text-gray-400">No results found</div>'; tvResults.classList.remove('hidden'); return;}
                tvResults.innerHTML = results.map(r=>`<div class="px-3 py-2 cursor-pointer hover:bg-red-600/30 transition" data-id="${r.id}">${r.name} (${r.first_air_date?.slice(0,4)||'N/A'})</div>`).join('');
                tvResults.classList.remove('hidden');
                tvResults.querySelectorAll('div[data-id]').forEach(el=>{
                    el.addEventListener('click',()=>{ tvInput.value=el.dataset.id; tvResults.classList.add('hidden'); });
                });
            } else {
                tvResults.classList.add('hidden');
            }
        });

        document.addEventListener('click',(e)=>{if(!tvInput.contains(e.target) && !tvResults.contains(e.target)) tvResults.classList.add('hidden');});

        // Player message logging
        window.addEventListener("message", function(event){
            if(typeof event.data==="string"){
                try{
                    const data=JSON.parse(event.data);
                    logMessage(`Progress: ${data.progress}% (${Math.floor(data.timestamp)}s)`);
                }catch(e){}
            }
        });
    </script>
</body>
</html>
